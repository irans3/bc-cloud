#!/usr/bin/env python
# Generate the pem files.
import pandas as pd
import boto3

def delete_vpc(id='vpc-0417da42b96268f01', region_id='us-east-1'):
    ec2client = boto3. \
                session. \
                Session(region_name=region_id). \
                client('ec2')
    VpcId = 'vpc-0417da42b96268f01'
    subnets = ec2client.describe_subnets()
    marked_subnets = [subnet['SubnetId'] for subnet in subnets if subnet['VpcId'] == VpcId]
#    RouteTableId='rtb-029cc312c23d4ae20'
    # IgwId = 'igw-0ae2213cb7ef80bce'
    route_tables = ec2client.describe_route_tables()['RouteTables']
    marked_route_tables = [x['RouteTableId'] for x in route_tables if x['VpcId'] == VpcId]

    
Def launch(region_id, region_name):

    ec2client = boto3. \
                session. \
                Session(region_name=region_id). \
                client('ec2')
    response = client.create_launch_template(
        DryRun=False,
        LaunchTemplateName='bastion',
        VersionDescription='string',
        LaunchTemplateData={
            'KernelId': 'string',
            'EbsOptimized': True|False,
            'IamInstanceProfile': {
                'Arn': 'string',
                'Name': 'string'
            },
            'BlockDeviceMappings': [
                {
                    'DeviceName': 'string',
                    'VirtualName': 'string',
                    'Ebs': {
                        'Encrypted': True|False,
                        'DeleteOnTermination': True|False,
                        'Iops': 123,
                        'KmsKeyId': 'string',
                        'SnapshotId': 'string',
                        'VolumeSize': 123,
                        'VolumeType': 'standard'|'io1'|'gp2'|'sc1'|'st1'
                    },
                    'NoDevice': 'string'
                },
            ],
            'NetworkInterfaces': [
                {
                    'AssociatePublicIpAddress': True,
                    'Groups': [
                        'sg-00f444b6d942e90fe',
                    ],
                    'SubnetId': 'string'
                },
            ],
            'ImageId': 'string',
            'InstanceType': 't2.micro',
            'KeyName': 'us-dev',
            'Monitoring': {
                'Enabled': True
            },
            'DisableApiTermination': False,
            'InstanceInitiatedShutdownBehavior': 'stop',
            'UserData': 'string',
            'TagSpecifications': [
                {
                    'ResourceType': 'instance',
                    'Tags': [
                        {
                            'Key': 'Name',
                            'Value': 'bastion'
                        },
                    ]
                },
            ],
            'CreditSpecification': {
                'CpuCredits': 'standard'
            }
        }
    )

def main():
    launch()

    
if __name__=='__main__':
    main()
